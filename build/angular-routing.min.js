/**
 * @license dotJEM Angular Routing
 * (c) 2012-2013 dotJEM (Jens Melgaard)
 * License: MIT
 *
 * @module angular-routing
 */
var dotjem;(function(t,e,r,n){"use strict";function o(t,e){return w(new(w(function(){},{prototype:t})),e)}function a(t){return v(t)?t:t.$fullname||t.fullname}function i(t){if($(t))for(var e=0;t.length>e;e++){if(t.length-1>e&&!v(t[e]))return null;if(e===t.length-1&&m(t[e]))return t[e]}return null}function u(t){var e=[];return b(t,function(t,r){e.push(c(r,!0)+(t===!0?"":"="+c(t,!0)))}),e.length?e.join("&"):""}function c(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function l(){function t(t){var e=null;return function(n,o){return null===e&&(e=t?v(t)?function(e,n){var o=r(t,n.params);e.path(o).search(n.params).replace()}:function(e,r){e.url(t(r.pathParams,e.path(),e.search())).replace()}:function(){}),e(n,o)}}function e(t,e,r){var n;if(r&&(n=r.trim(),"{"===n[0]&&"}"===n[n.length-1]||"["===n[0]&&"]"===n[n.length-1]))try{r=angular.fromJson(n)}catch(o){}return{name:t,converter:function(){return h[e](r)}}}function r(t,r){var n="",o=0;return b(i(t),function(a){var i=function(t){return""+t},u=e(a.name,a.converter,a.args).converter();""!==a.converter,!m(u)&&p(u.format)&&(i=u.format),n+=t.slice(o,a.index)+"/"+i(r[a.name]),o=a.lastIndex,delete r[a.name]}),n+=t.substr(o)}function a(t){return t.replace(y,"\\$&")}function i(t){var e,r=[];if(null===t)return r;for(;null!==(e=E.exec(t));)r.push({name:e[3]||e[9],converter:e[6]||"",args:e[8],index:e.index,lastIndex:E.lastIndex});return r}function c(t){var r="^",n="",o=[],u=0,c="",l={};return null===t?{name:null,params:l}:"/"===t?{exp:RegExp("^[/]?$",c),segments:[],name:n,params:l}:(b(i(t),function(i,c){var s="";r+=a(t.slice(u,i.index)),r+="/([^\\/]*)",""!==i.converter&&(s=":"+i.converter),n+=t.slice(u,i.index)+"/$"+c+s,l[i.name]={id:c,converter:i.converter},o.push(e(i.name,i.converter,i.args)),u=i.lastIndex}),r+=a(t.substr(u)),n+=t.substr(u),$||(n=n.toLowerCase(),c+="i"),"/"===r[r.length-1]&&(r=r.substr(0,r.length-1)),{exp:RegExp(r+"/?$",c),segments:o,name:n,params:l})}function l(t,e){return null==t?function(){}:function(t){var r,o=t.match(e.exp),a={};return o&&(r=!1,b(e.segments,function(t,e){var n,i,u;r||(n=o[e+1],u=t.converter(),!m(u)&&p(u.parse)&&(u=u.parse),i=u(n),p(i.accept)?(i.accept||(r=!0),a[t.name]=i.value):(i||(r=!0),a[t.name]=n))}),!r)?a:n}}var s=this,f={},h={},d={},$=!0;this.convert=function(t,e){return h[t]=e,s},this.when=function(e,r){var n=c(e);return f[n.name]={self:w({reloadOnSearch:!0},r),redirect:t(r.redirectTo),match:l(e,n),params:n.params,path:e},{convert:s.convert,when:s.when,otherwise:s.otherwise,decorate:s.decorate,ignoreCase:s.ignoreCase,matchCase:s.matchCase,$route:{name:n.name,params:x(n.params),route:e}}},this.otherwise=function(t){return s.when(null,t),s},this.decorate=function(t,e){return d[t]=e,s},this.ignoreCase=function(){return $=!1,s},this.matchCase=function(){return $=!0,s};var y=/[-\/\\^$*+?.()|[\]{}]/g,E=RegExp("/((:(\\w+))|(\\{((\\w+)(\\((.*?)\\))?:)?(\\w+)\\}))","g");this.convert("num",function(){return{parse:function(t){var e=!isNaN(t);return{accept:e,value:e?Number(t):0}},format:function(t){if(isNaN(t))throw Error("Value was not acceptable for a numeric parameter.");return""+t}}}),this.convert("regex",function(t){var e,r,n="";if(g(t)&&p(t.exp))e=t.exp,p(t.flags)&&(n=t.flags);else{if(!(v(t)&&t.length>0))throw Error("The Regular-expression converter was not initialized with a valid object.");e=t}return r=RegExp(e,n),{parse:function(t){var e=r.test(t);return{accept:e,value:e?r.exec(t):null}},format:function(t){var e=""+t,n=r.test(e);if(!n)throw Error("Value could not be matched by the regular expression parameter.");return e}}}),this.convert("",function(){return function(){return!0}}),this.$get=["$rootScope","$location","$q","$injector","$routeParams",function(t,e,a,i,c){function l(t,e,r){var n=o(t,{self:o(t.self,{params:w({},r,e),searchParams:r,pathParams:e})});return n}function s(t){var r,n;return b(f,function(o){!n&&(r=o.match(t))&&(n=l(o,r,e.search()))}),n||f[null]&&l(f[null],{},{})}function h(){var r=s(e.path()),o=m.current,u=r?r.self:n;if(!p&&u&&o&&angular.equals(u.pathParams,o.pathParams)&&!u.reloadOnSearch)o.params=r.params,o.searchParams=r.searchParams,o.pathParams=r.pathParams,x(u.params,c),t.$broadcast("$routeUpdate",o);else if(r||o){p=!1;var l=t.$broadcast("$routeChangeStart",u,o);if(!l.defaultPrevented){m.current=u,r&&r.redirect(e,u);var f=a.when(u);u&&b(d,function(t){f=f.then(function(){var e=i.invoke(t,u,{$next:u});return a.when(e)})}),f.then(function(){u===m.current&&(r&&angular.copy(u.params,c),t.$broadcast("$routeChangeSuccess",u,o))},function(e){u===m.current&&t.$broadcast("$routeChangeError",u,o,e)})}}}var p=!1,m={routes:f,reload:function(){p=!0,t.$evalAsync(h)},change:function(t){var n=t.params||{},o=r(t.route,n),a=e.path(o).search(n||{});t.replace&&a.replace()},format:function(t,e){var e=e||{};return r(t,e)+u(e)}};return t.$on("$locationChangeSuccess",h),m}]}function s(){function t(t){var e={handler:{}};return p(t.to)&&(e.to=t.to),p(t.from)&&(e.from=t.from),p(t.handler)&&(e.handler=t.handler),p(t.before)&&d(e.handler.before)&&(e.handler.before=t.before),p(t.between)&&d(e.handler.between)&&(e.handler.between=t.between),p(t.after)&&d(e.handler.after)&&(e.handler.after=t.after),e}function e(t,e){var n=r(t),o=r(e);if(!n||!o){if(n)throw Error("Invalid transition - to: '"+e+"'.");if(o)throw Error("Invalid transition - from: '"+t+"'.");throw Error("Invalid transition - from: '"+t+"', to: '"+e+"'.")}}function r(t){return"*"===t||i.test(t)?!0:!1}function n(t){for(var e=o,r=t.split("."),n="root"===r[0]?1:0;r.length>n;n++)r[n]in e.children||(e.children[r[n]]={children:{},targets:{}}),e=e.children[r[n]];return e}var o={children:{},targets:{}},i=/^\w+(\.\w+)*(\.[*])?$/,u=this;this.onEnter=function(e,r){if(g(r)){var n=t(r);this.transition(n.from||"*",e,n.handler)}else(m(r)||$(r))&&this.transition("*",e,r)},this.onExit=function(e,r){if(g(r)){var n=t(r);this.transition(e,n.to||"*",n.handler)}else(m(r)||$(r))&&this.transition(e,"*",r)},this.transition=function(t,r,o){var i,u=this;if($(t))b(t,function(t){u.transition(t,r,o)});else if($(r))b(r,function(e){u.transition(t,e,o)});else{if(t=a(t),r=a(r),r===t&&-1===r.indexOf("*"))return this;e(t,r),(angular.isFunction(o)||angular.isArray(o))&&(o={between:o}),i=n(t),r in i.targets||(i.targets[r]=[]),o.name=t+" -> "+r,i.targets[r].push(o)}return this},this.$get=["$q","$injector",function(t,e){function r(t,r){function n(n,o){var a;b(i,function(i){p(a=n(i))&&e.invoke(a,u,{$to:r,$from:t,$transition:o})})}var o=l(a(t)),i=c(o,a(r));return{before:function(t){n(function(t){return t.before},t)},between:function(t){n(function(t){return t.between},t)},after:function(t){n(function(t){return t.after},t)}}}function n(t){return"root"===t[0]&&t.splice(0,1),t}function i(t,e){for(var r,o,a=n(t.split(".")).reverse(),i=n(e.split(".")).reverse();;){if(r=a.pop(),o=i.pop(),"*"===o||"*"===r)return!0;if(r!==o)return!1;if(!p(r)||!p(o))return!0}return!0}function c(t,e){var r=[];return b(t,function(t){b(t.targets,function(t,n){i(n,e)&&b(t,function(t){r.push(t)})})}),r}function l(t){var e=o,r=t.split("."),n=[],a="root"===r[0]?1:0;do{if("*"in e.children&&n.push(e.children["*"]),!(r[a]in e.children))break;e=e.children[r[a]],n.push(e)}while(a++<r.length);return n}var s={root:o,find:r};return s}]}function f(){var t=RegExp("^(((http|https|ftp)://([\\w-\\d]+\\.)+[\\w-\\d]+){0,1}(/?[\\w~,;\\-\\./?%&+#=]*))","i");this.$get=["$http","$q","$injector","$templateCache",function(e,r,n,o){function a(t){return e.get(t,{cache:o}).then(function(t){return t.data})}function i(t){return r.when(n.invoke(t))}function u(t){if(p(t.url))return a(t.url);if(p(t.fn))return i(t.fn);if(p(t.html))return r.when(t.html);throw Error("Object must define url, fn or html.")}return this.get=function(e){if(v(e))return t.test(e)?a(e):r.when(e);if(m(e)||$(e))return i(e);if(g(e))return u(e);throw Error("Template must be either an url as string, function or a object defining either url, fn or html.")},this}]}function h(){this.$get=["$rootScope","$q","$template",function(t,e,r){function o(t){if("undefined"===t)throw Error("Must define a view name.")}function a(e){t.$broadcast("$viewUpdate",e)}function i(e,r){t.$broadcast("$viewRefresh",e,r)}function u(t,e){return e in t&&null!==t[e]}function c(t){return g(t)&&(p(t.template)||p(t.controller)||p(t.locals)||p(t.sticky))}var l={},s=null;return this.clear=function(t){var e=this;if(d(t))b(l,function(t,r){e.clear(r)});else{if(s)return s.records[t]={act:"clear",fn:function(){e.clear(t)}},n;delete l[t],a(t)}},this.setOrUpdate=function(t,e,f,h,d){var m=this,g=e;return c(e)&&(g=e.template,f=e.controller,h=e.locals,d=e.sticky),o(t),s?(s.records[t]={act:"setOrUpdate",fn:function(){m.setOrUpdate(t,g,f,h,d)}},n):(u(l,t)||(l[t]={version:-1}),l[t].template=r.get(g),l[t].controller=f,l[t].locals=h,p(d)&&v(d)&&l[t].sticky===d?i(t,{sticky:!0}):(l[t].version++,l[t].sticky=d,a(t)),n)},this.setIfAbsent=function(t,e,i,f){var h=this,p=e;return c(e)&&(p=e.template,i=e.controller,f=e.locals),o(t),s?(u(s.records,t)&&"clear"!==s.records[t].act||(s.records[t]={act:"setIfAbsent",fn:function(){h.setIfAbsent(t,p,i,f)}}),n):(u(l,t)||(l[t]={template:r.get(p),controller:i,locals:f,version:0},a(t)),n)},this.get=function(t){return d(t)?l:l[t]},this.refresh=function(t,e){var r=this;if(d(t))b(l,function(t,e){r.clear(e)});else{if(s)return s.records[t]={act:"refresh",fn:function(){r.refresh(t,e)}},n;i(t,e)}},this.beginUpdate=function(){if(s)throw Error("Can't start multiple transactions");var t=s={records:{}};return{commit:function(){s=null,b(t.records,function(t){t.fn()})},cancel:function(){s=null}}},this}]}var p=angular.isDefined,d=angular.isUndefined,m=angular.isFunction,v=angular.isString,g=angular.isObject,$=angular.isArray,b=angular.forEach,w=angular.extend,x=angular.copy,y=angular.equals;angular.element,angular.module("dotjem.routing",[]),angular.module("dotjem.routing").provider("$route",l).value("$routeParams",{}),angular.module("dotjem.routing").provider("$stateTransition",s);var E=["$routeProvider","$stateTransitionProvider",function(t,e){var r=new j(t,e),o=r.createState("root",{}),i=new S(o),u=new O;this.state=function(t,e){P.validateName(t);var n=i.lookup(t,1);return n.add(r.createState(t,e,n)),this},this.$get=["$rootScope","$q","$injector","$route","$view","$stateTransition","$location","$scroll",function(t,e,r,c,l,s,f,h){function d(e){p(e)?v(e)||g(e)?(S=a(e),0!==S.indexOf("root")&&(S="root."+S)):e&&(S=o.fullname):S=O.fullname,t.$evalAsync(function(){E({state:O,params:j,route:c.current})})}function y(e,r,n){var o=P.current.$params;o.all=e,o.path=r,o.search=n,t.$broadcast("$stateUpdate",P.current)}function E(o){var f,d,g=o.params,C=o.route,R=i.lookup(a(o.state)),k=w({},R.self,{$params:g,$route:C}),_=P.current,I=s.find(P.current,k),A=!1,U=u.compare(i.lookup(a(P.current)),R,_.$params&&_.$params.all,g&&g.all||{},S),N={cancel:function(){A=!0},"goto":function(t,e){A=!0,E({state:t,params:{all:e},updateroute:!0})}};if(!S&&!U.stateChanges)return U.paramChanges&&y(g.all||{},g.path||{},g.search||{}),n;if(S=null,o.updateroute&&R.route){var T={},q=_.$params&&_.$params.all||{};b(R.route.params,function(t,e){e in q&&(T[e]=q[e])});var V=w(T,g&&g.all);return c.change(w({},R.route,{params:V})),n}if(I.before(N),!A){var F=t.$broadcast("$stateChangeStart",k,_);F.defaultPrevented||e.when(k).then(function(){function o(t){var n=[],o=[];angular.forEach(t||{},function(t,e){o.push(e),n.push(angular.isString(t)?r.get(t):r.invoke(t))});var a=e.defer();return e.all(n).then(function(t){angular.forEach(t,function(t,e){i[o[e]]=t}),a.resolve(i)}),a.promise}var a=!1,i={};f=l.beginUpdate(),l.clear();var u=e.when(0);return b(U.array,function(t){u=u.then(function(){return o(t.state.self.resolve)}).then(function(e){t.isChanged&&(a=!0),d=t.state.self.scrollTo,b(t.state.self.views,function(n,o){var i;n.sticky&&(i=n.sticky,m(i)||$(i)?i=r.invoke(i,i,{$to:k,$from:_}):v(i)||(i=t.state.fullname)),a||p(i)?l.setOrUpdate(o,n.template,n.controller,x(e),i):l.setIfAbsent(o,n.template,n.controller,x(e))})})}),u.then(function(){return I.between(N),A?(f.cancel(),n):(O=R,j=g,P.current=k,f.commit(),t.$broadcast("$stateChangeSuccess",k,_),n)})},function(e){f.cancel(),t.$broadcast("$stateChangeError",k,_,e)}).then(function(){A||(N.cancel=function(){throw Error("Can't cancel transition in after handler")},I.after(N),h(d))})}}var C=new R(c),S=null,O=o,j={},P={root:o,current:w({},o.self),"goto":function(t,e){E({state:t,params:{all:e},updateroute:!0})},lookup:function(t){return i.resolve(O,t)},reload:d,url:function(t,e){return t=p(t)?i.lookup(a(t)):O,C.buildUrl(P.current,t,e)}};return t.$on("$routeChangeSuccess",function(){var t,e=c.current;e?(t={all:e.params,path:e.pathParams,search:e.searchParams},e.state&&E({state:e.state,params:t,route:e})):E({state:o})}),t.$on("$routeUpdate",function(){var t=c.current;y(t.params,t.pathParams,t.searchParams)}),P}]}];angular.module("dotjem.routing").provider("$state",E);var C=function(){function t(t,e,r,n){this._name=t,this._fullname=e,this._parent=n,this._children={},this._self=r,this._self.$fullname=e,this._reloadOnOptional=!p(r.reloadOnSearch)||r.reloadOnSearch}return Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullname",{get:function(){return this._fullname},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"reloadOnOptional",{get:function(){return this._reloadOnOptional},set:function(t){this._reloadOnOptional=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"self",{get:function(){return x(this._self)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"route",{get:function(){return this._route},set:function(t){if(d(t))throw"Please supply time interval";this._route=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return null===this.parent?this:this._parent.root},enumerable:!0,configurable:!0}),t.prototype.add=function(t){return this._children[t.name]=t,this},t.prototype.resolveRoute=function(){return p(this.route)?this.route.route:p(this.parent)?this.parent.resolveRoute():""},t.prototype.toUrl=function(){return""},t}(),S=function(){function t(t){this.root=t,this.nameRegex=RegExp("^\\w+(\\.\\w+)+$"),this.siblingRegex=RegExp("^\\$node\\(([-+]?\\d+)\\)$"),this.indexRegex=RegExp("^\\[(-?\\d+)\\]$")}return t.prototype.lookup=function(t,e){for(var r=this.root,n=t.split("."),o="root"===n[0]?1:0,e=p(e)?e:0;n.length-e>o;o++){if(!(n[o]in r.children))throw Error("Could not locate '"+n[o]+"' under '"+r.fullname+"'.");r=r.children[n[o]]}return r},t.prototype.resolve=function(t,e){var r,o=this,a=this.siblingRegex.exec(e),i=(this.nameRegex.test(e),t);if(a?i=this.selectSibling(Number(a[1]),i):this.nameRegex.test(e)?i=this.lookup(e):(r=e.split("/"),b(r,function(e){i=o.select(t,e,i)})),i===this.root)throw Error("Path expression out of bounds.");return i&&w({},i.self)||n},t.prototype.selectSibling=function(t,e){var r,n=[];for(b(e.parent.children,function(t){n.push(t),e.fullname===t.fullname&&(r=n.length-1)});0>t;)t+=n.length;return t=(r+t)%n.length,n[t]},t.prototype.select=function(t,e,r){if("."===e){if(t!==r)throw Error("Invalid path expression. Can only define '.' i the beginning of an expression.");return r}if(".."===e){if(d(r.parent))throw Error("Path expression out of bounds.");return r.parent}if(""===e){if(t!==r)throw Error("Invalid path expression.");return this.root}var n=this.indexRegex.exec(e);if(n){var o=Number(n[1]),a=[];if(b(r.children,function(t){a.push(t)}),Math.abs(o)>=a.length)throw Error("Index out of bounds, index selecter must not exeed child count or negative childcount");return 0>o?a[a.length+o]:a[o]}if(e in r.children)return r.children[e];throw Error("Could find state for the lookup path.")},t}(),O=function(){function t(){}return t.prototype.buildStateArray=function(t,e){function r(){var t={};return o.route&&b(o.route.params,function(r,n){t[n]=e[n]}),t}var n=[],o=t;do n.push({state:o,params:r()});while(o=o.parent);return n},t.prototype.compare=function(t,e,r,n,o){for(var a,i,u=this.buildStateArray(t,r||{}),c=this.buildStateArray(e,n),l=Math.max(u.length,c.length),s=!1,f=!y(r,n),h=0;l>h;h++)a=u[u.length-h-1],i=c[c.length-h-1],d(i)?c[0].isChanged=s=!0:i.isChanged=d(a)||o&&o==i.state.fullname||i.state.fullname!==a.state.fullname||!y(i.params,a.params)?s=!0:!1;return s=s||c[0].state.reloadOnOptional&&f,{array:c.reverse(),stateChanges:s,paramChanges:f}},t}(),j=function(){function t(t,e){this.routes=t,this.transitions=e}return t.prototype.createRoute=function(t,e,r,n){var o=e||"";return""!==o&&"/"===o[o.length-1]&&(o=o.substr(0,o.length-1)),"/"!==t[0]&&""!==t&&(o+="/"),o+=t,this.routes.when(o,{state:r,reloadOnSearch:n})},t.prototype.createState=function(t,e,r){var n=this,o=t.split(".").pop();p(r)&&(t=r.fullname+"."+o);var a=new C(o,t,e,r);return a.reloadOnOptional=!p(e.reloadOnSearch)||e.reloadOnSearch,p(e.route)&&(a.route=this.createRoute(e.route,r.resolveRoute(),a.fullname,a.reloadOnOptional).$route),p(e.onEnter)&&this.transitions.onEnter(a.fullname,e.onEnter),p(e.onExit)&&this.transitions.onExit(a.fullname,e.onExit),p(e.children)&&b(e.children,function(t,e){a.add(n.createState(a.fullname+"."+e,t,a))}),a},t}(),P=function(){function t(){}return t.nameValidation=/^\w+(\.\w+)*?$/,t.validateName=function(e){if(!t.nameValidation.test(e))throw Error("Invalid name: '"+e+"'.")},t}(),R=function(){function t(t){this.route=t}return t.prototype.buildUrl=function(t,e,r){var n=t;if(!e.route)throw Error("Can't build url for a state that doesn't have a url defined.");var o={},a=n&&n.$params&&n.$params.all||{};return b(e.route.params,function(t,e){e in a&&(o[e]=a[e])}),this.route.format(e.route.route,w(o,r||{}))},t}();angular.module("dotjem.routing").provider("$template",f),angular.module("dotjem.routing").provider("$view",h);var k=["$anchorScrollProvider",function(){this.$get=["$window","$rootScope","$anchorScroll","$injector","$timeout",function(t,e,r,o){function a(r){return u.$current=r,"top"===r?(t.scrollTo(0,0),n):(e.$broadcast("$scrollPositionChanged",r),n)}t.document;var u=function(t){var e;d(t)?r():v(t)?a(t):null!==(e=i(t))&&a(o.invoke(t,e)[0])};return u.$current="top",u}]}];angular.module("dotjem.routing").provider("$scroll",k);var _=["$state","$scroll","$compile","$controller","$view","$animator",function(t,e,r,n,o,a){return{restrict:"ECA",terminal:!0,link:function(t,e,i){function u(){s&&(s.$destroy(),s=null)}function c(t){t?v.leave(e.contents(),e):e.html(""),u()}function l(a){var i,u=o.get(f);if(u&&u.template){if(u.version===g)return;g=u.version,i=u.controller,u.template.then(function(o){c(a),a?v.enter(angular.element("<div></div>").html(o).contents(),e):e.html(o);var l,f=r(e.contents());s=t.$new(),i&&(l=x(u.locals),l.$scope=s,i=n(i,l),e.contents().data("$ngControllerController",i)),f(s),s.$emit("$viewContentLoaded"),s.$eval(d)})}else c(a)}var s,f=i.jemView||i.name,h=p(i.ngAnimate),d=i.onload||"",v=a(t,i),g=-1;t.$on("$viewChanged",function(t,e){e===f&&l(h)}),t.$on("$viewRefresh",function(t,e,r){e===f&&(m(s.refresh)?s.refresh(r):s.$broadcast("$refresh",e,r))}),t.$on("$stateChangeSuccess",function(){return l(h)}),l(!1)}}}];angular.module("dotjem.routing").directive("jemView",_);var I=["$scroll","$timeout",function(t,e){return{restrict:"ECA",terminal:!1,link:function(r,n,o){function a(t){t===i&&e(function(){n[0].scrollIntoView()},100)}var i=o.uiScroll||o.id;r.$on("$scrollPositionChanged",function(t,e){a(e)}),a(t.$current)}}}];angular.module("dotjem.routing").directive("jemAnchor",I),r.State=C,r.StateBrowser=S,r.StateComparer=O,r.StateFactory=j,r.StateRules=P,r.StateUrlBuilder=R})(window,document,dotjem||(dotjem={}));