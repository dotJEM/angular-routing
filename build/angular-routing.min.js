(function(n,t,r){"use strict";function e(n,t){return m(new(m(function(){},{prototype:n})),t)}function i(n){return h(n)?n:n.$fullname||n.fullname}function a(){function n(n,t){var r=[];return v((n||"").split(":"),function(n,e){if(0==e)r.push(n);else{var i=n.match(/(\w+)(.*)/),a=i[1];r.push(t[a]),r.push(i[2]||""),delete t[a]}}),r.join("")}function t(t){var r=null;return function(e,i){return null===r&&(r=t?h(t)?function(r,e){var i=n(t,e.params);r.path(i).search(e.params).replace()}:function(n,r){n.url(t(r.pathParams,n.path(),n.search())).replace()}:function(){}),r(e,i)}}function i(n){var t,r=n[6]||"",e=n[8];if(e&&(t=e.trim(),"{"===t[0]&&"}"===t[t.length-1]||"["===t[0]&&"]"===t[t.length-1]))try{e=angular.fromJson(t)}catch(i){}return{name:n[3]||n[9],converter:p[r](e)}}function a(n){return n.replace(b,"\\$&")}function o(n){var t,r="^",e=[],o=0,u="";if("/"===n)return{complete:RegExp("^[/]$",u),segments:[]};for(;null!==(t=E.exec(n));)r+=a(n.slice(o,t.index)),r+="/([^\\/]*)",e.push(i(t)),o=E.lastIndex;return r+=a(n.substr(o)),w||(u+="i"),"/"===r[r.length-1]&&(r=r.substr(0,r.length-1)),{complete:RegExp(r+"/?$",u),segments:e}}function u(n){var t,r="",e=0,i=0,a={};if(null===n)return{name:null,params:a};for(;null!==(t=E.exec(n));){var o=t[6]||"",u=t[3]||t[9];a[u]={id:i,converter:o},""!==o&&(o=":"+o),r+=n.slice(e,t.index)+"/$"+i++ +o,e=E.lastIndex}return r+=n.substr(e),w||(r=r.toLowerCase()),{name:r,params:a}}function c(n){if(null==n)return function(){};var t=function(){var r=o(n);return t=function(){return r},t()};return function(n){var e,i=t(),a=n.match(i.complete),o={};return a&&(e=!1,v(i.segments,function(n,t){var r,i;e||(r=a[t+1],i=n.converter(r),l(i.accept)?(i.accept||(e=!0),o[n.name]=i.value):(i||(e=!0),o[n.name]=r))}),!e)?o:r}}var s=this,f={},p={},$={},w=!0;this.convert=function(n,t){return p[n]=t,s},this.when=function(n,r){var e=u(n);return f[e.name]={self:m({reloadOnSearch:!0},r),redirect:t(r.redirectTo),match:c(n),path:n,params:e.params},s},this.otherwise=function(n){return s.when(null,n),s},this.decorate=function(n,t){return $[n]=t,s},this.ignoreCase=function(){return w=!1,s},this.matchCase=function(){return w=!0,s};var b=/[-\/\\^$*+?.()|[\]{}]/g,E=RegExp("/((:(\\w+))|(\\{((\\w+)(\\((.*?)\\))?:)?(\\w+)\\}))","g");this.convert("num",function(){return function(n){var t=!isNaN(n);return{accept:t,value:t?Number(n):0}}}),this.convert("regex",function(n){var t,r,e="";if(d(n)&&l(n.exp))t=n.exp,l(n.flags)&&(e=n.flags);else{if(!(h(n)&&n.length>0))throw Error("The Regular-expression converter was not initialized with a valid object.");t=n}return r=RegExp(t,e),function(n){var t=r.test(n);return{accept:t,value:t?r.exec(n):null}}}),this.convert("",function(){return function(){return!0}}),this.$get=["$rootScope","$location","$q","$injector","$routeParams",function(n,t,i,a,o){function u(n,t,r){var i=e(n,{self:e(n.self,{params:m({},r,t),searchParams:r,pathParams:t})});return i}function c(n){var r,e;return v(f,function(i){!e&&(r=i.match(n))&&(e=u(i,r,t.search()))}),e||f[null]&&u(f[null],{},{})}function l(){var e=c(t.path()),u=h.current,l=e?e.self:r;if(!s&&l&&u&&angular.equals(l.pathParams,u.pathParams)&&!l.reloadOnSearch)u.params=e.params,g(l.params,o),n.$broadcast("$routeUpdate",u);else if(e||u){s=!1;var f=n.$broadcast("$routeChangeStart",l,u);if(!f.defaultPrevented){h.current=l,e&&e.redirect(t,l);var d=i.when(l);l&&v($,function(n){d=d.then(function(){var t=a.invoke(n,l,{$next:l});return i.when(t)})}),d.then(function(){l===h.current&&(e&&angular.copy(l.params,o),n.$broadcast("$routeChangeSuccess",l,u))},function(t){l===h.current&&n.$broadcast("$routeChangeError",l,u,t)})}}}var s=!1,h={routes:f,reload:function(){s=!0,n.$evalAsync(l)}};return n.$on("$locationChangeSuccess",l),h}]}function o(){function n(n){var t={handler:{}};return l(n.to)&&(t.to=n.to),l(n.from)&&(t.from=n.from),l(n.handler)&&(t.handler=n.handler),l(n.before)&&s(t.handler.before)&&(t.handler.before=n.before),l(n.between)&&s(t.handler.between)&&(t.handler.between=n.between),l(n.after)&&s(t.handler.after)&&(t.handler.after=n.after),t}function t(n,t){var e=r(n),i=r(t);if(!e||!i){if(e)throw Error("Invalid transition - to: '"+t+"'.");if(i)throw Error("Invalid transition - from: '"+n+"'.");throw Error("Invalid transition - from: '"+n+"', to: '"+t+"'.")}}function r(n){return"*"===n||o.test(n)?!0:!1}function e(n){for(var t=a,r=n.split("."),e="root"===r[0]?1:0;r.length>e;e++)r[e]in t.children||(t.children[r[e]]={children:{},targets:{}}),t=t.children[r[e]];return t}var a={children:{},targets:{}},o=/^\w+(\.\w+)*(\.[*])?$/;this.onEnter=function(t,r){if(d(r)){var e=n(r);this.transition(e.from||"*",t,e.handler)}else(f(r)||p(r))&&this.transition("*",t,r)},this.onExit=function(t,r){if(d(r)){var e=n(r);this.transition(t,e.to||"*",e.handler)}else(f(r)||p(r))&&this.transition(t,"*",r)},this.transition=function(n,r,a){var o,u=this;if(p(n))v(n,function(n){u.transition(n,r,a)});else if(p(r))v(r,function(t){u.transition(n,t,a)});else{if(n=i(n),r=i(r),r===n&&-1===r.indexOf("*"))return this;t(n,r),(angular.isFunction(a)||angular.isArray(a))&&(a={between:a}),o=e(n),r in o.targets||(o.targets[r]=[]),a.name=n+" -> "+r,o.targets[r].push(a)}return this},this.$get=["$q","$injector",function(n,t){function r(n,r){function e(e,i){var a,u=this;v(o,function(o){l(a=e(o))&&t.invoke(a,u,{$to:r,$from:n,$transition:i})})}var a=c(i(n)),o=u(a,i(r));return{before:function(n){e(function(n){return n.before},n)},between:function(n){e(function(n){return n.between},n)},after:function(n){e(function(n){return n.after},n)}}}function e(n){return"root"===n[0]&&n.splice(0,1),n}function o(n,t){for(var r,i,a=e(n.split(".")).reverse(),o=e(t.split(".")).reverse();;){if(r=a.pop(),i=o.pop(),"*"===i||"*"===r)return!0;if(r!==i)return!1;if(!l(r)||!l(i))return!0}return!0}function u(n,t){var r=[];return v(n,function(n){v(n.targets,function(n,e){o(e,t)&&v(n,function(n){r.push(n)})})}),r}function c(n){var t=a,r=n.split("."),e=[],i="root"===r[0]?1:0;do{if("*"in t.children&&e.push(t.children["*"]),!(r[i]in t.children))break;t=t.children[r[i]],e.push(t)}while(i++<r.length);return e}var s={root:a,find:r};return s}]}function u(){var n=RegExp("^(((http|https|ftp)://([\\w-\\d]+\\.)+[\\w-\\d]+){0,1}(/?[\\w~,;\\-\\./?%&+#=]*))","i");this.$get=["$http","$q","$injector","$templateCache",function(t,r,e,i){function a(n){return t.get(n,{cache:i}).then(function(n){return n.data})}function o(n){return r.when(e.invoke(n))}function u(n){if(l(n.url))return a(n.url);if(l(n.fn))return o(n.fn);if(l(n.html))return r.when(n.html);throw Error("Object must define url, fn or html.")}return this.get=function(t){if(h(t))return n.test(t)?a(t):r.when(t);if(f(t)||p(t))return o(t);if(d(t))return u(t);throw Error("Template must be either an url as string, function or a object defining either url, fn or html.")},this}]}function c(){this.$get=["$rootScope","$q","$template",function(n,t,e){function i(n){if("undefined"===n)throw Error("Must define a view name.")}function a(t){n.$broadcast("$viewUpdate",t)}function o(n,t){return t in n&&null!==n[t]}var u={},c=null;return this.clear=function(n){var t=this;if(s(n))v(u,function(n,r){t.clear(r)});else{if(c)return c.records[n]={act:"clear",fn:function(){t.clear(n)}},r;delete u[n],a(n)}},this.setOrUpdate=function(n,t,l){var s=this;return i(n),c?(c.records[n]={act:"setOrUpdate",fn:function(){s.setOrUpdate(n,t,l)}},r):(o(u,n)?(u[n].template=e.get(t),u[n].controller=l,u[n].version++):u[n]={template:e.get(t),controller:l,version:0},a(n),r)},this.setIfAbsent=function(n,t,l){var s=this;return i(n),c?(o(c.records,n)&&"clear"!==c.records[n].act||(c.records[n]={act:"setIfAbsent",fn:function(){s.setIfAbsent(n,t,l)}}),r):(o(u,n)||(u[n]={template:e.get(t),controller:l,version:0},a(n)),r)},this.get=function(n){return s(n)?u:u[n]},this.beginUpdate=function(){if(c)throw Error("Can't start multiple transactions");var n=c={records:{}};return{commit:function(){c=null,v(n.records,function(n){n.fn()})},cancel:function(){c=null}}},this}]}var l=angular.isDefined,s=angular.isUndefined,f=angular.isFunction,h=angular.isString,d=angular.isObject,p=angular.isArray,v=angular.forEach,m=angular.extend,g=angular.copy;angular.module("ui.routing",[]),angular.module("ui.routing").provider("$route",a).value("$routeParams",{}),angular.module("ui.routing").provider("$stateTransition",o);var $=["$routeProvider","$stateTransitionProvider",function(n,t){function e(n){if(!p.test(n))throw Error("Invalid name: '"+n+"'.")}function a(t,r,e,i){var a;return l(i)||(i=!0),a=r||"",""!==a&&"/"===a[a.length-1]&&(a=a.substr(0,a.length-1)),"/"!==t[0]&&(a+="/"),a+=t,n.when(a,{state:e,reloadOnSearch:i}),a}function o(n){for(;l(n)&&!l(n.route);)n=n.parent;return n&&n.route||""}function u(n){var t,r=[];if(null===n)return r;for(;null!==(t=g.exec(n));){var e=t[3]||t[9];r.push(e)}return r}function c(n,r,e){var i=r.fullname+"."+n,s=r;l(r.children)||(r.children={}),n in r.children||(r.children[n]={}),r=r.children[n],r.self=m({},e,{$fullname:i}),r.fullname=i,r.parent=s,l(e.route)&&(r.route=a(e.route,o(s),i,e.reloadOnSearch),r.params=u(e.route)),l(e.onEnter)&&t.onEnter(i,e.onEnter),l(e.onExit)&&t.onExit(i,e.onExit),null===e.children?r.children={}:v(e.children,function(n,t){c(t,r,n)})}function s(n){for(var t=d,r="root"===n[0]?1:0;n.length>r;r++){if(!(n[r]in t.children))throw Error("Could not locate '"+n[r]+"' under '"+t.fullname+"'.");t=t.children[n[r]]}return t}function f(n){return s(n.split("."))}function h(n){var t=n.split("."),n=t.pop();return{at:s(t),name:n}}var d={fullname:"root",children:{},self:{$fullname:"root"}},p=/^\w+(\.\w+)*?$/,g=RegExp("/((:(\\w+))|(\\{((\\w+)(\\((.*?)\\))?:)?(\\w+)\\}))","g");this.state=function(n,t){var r;return e(n),r=h(n),c(r.name,r.at,t),this},this.transition=function(n,r,e){return t.transition(n,r,e),this},this.$get=["$rootScope","$q","$injector","$route","$view","$stateTransition","$location",function(n,t,e,a,o,u){function c(){var n,t=a.current;t?(n={all:t.params,path:t.pathParams,search:t.searchParams},t.state&&h(t.state,n)):h(d)}function l(n,t){var r=g.current.$params,e=r&&r.all||{},i=t.all,a=!1;return v(n.params,function(n){a=e[n]!=i[n]}),a}function s(n,t){for(var r=[],e=1,i=n;i!==d;)r.push(i),l(i,t)&&(e=r.length),i=i.parent;return{states:r.reverse(),first:r.length-e}}function h(e,a){var c,l,d,e=f(i(e)),p=m({},e.self,{$params:a}),$=g.current,w=u.find(g.current,p),b=!1,E=s(e,a);if(c=n.$broadcast("$stateChangeStart",p,$),!c.defaultPrevented){if(l={cancel:function(){b=!0},"goto":function(n,t){b=!0,h(n,t)}},w.before(l),b)return;t.when(p).then(function(){return d=o.beginUpdate(),o.clear(),v(E.states,function(n,t){v(n.self.views,function(n,r){E.first>t?o.setIfAbsent(r,n.template,n.controller):o.setOrUpdate(r,n.template,n.controller)})}),w.between(l),b?(d.cancel(),r):(g.current=p,d.commit(),n.$broadcast("$stateChangeSuccess",p,$),r)},function(t){d.cancel(),n.$broadcast("$stateChangeError",p,$,t)}).then(function(){b||(l.cancel=function(){throw Error("Can't cancel transition in after handler")},w.after(l))})}}var p=!1,g={root:d,current:m({},d.self),"goto":h,lookup:function(){},nextSibling:"",prevSibling:"",parrent:"",children:"",reload:function(){p=!0,n.$evalAsync(c)}};return n.$on("$routeChangeSuccess",c),n.$on("$routeUpdate",function(){}),g}]}];angular.module("ui.routing").provider("$state",$),angular.module("ui.routing").provider("$template",u),angular.module("ui.routing").provider("$view",c);var w=["$state","$anchorScroll","$compile","$controller","$view",function(n,t,r,e,i){return{restrict:"ECA",terminal:!0,link:function(n,a,o){function u(n){l&&l.$destroy(),l="undefined"===n?null:n}function c(){var o,c=i.get(s);if(c&&c.template){if(c.version===h)return;h=c.version,o=c.controller,c.template.then(function(i){a.html(i),u(n.$new());var c=r(a.contents());o&&(o=e(o,{$scope:l}),a.contents().data("$ngControllerController",o)),c(l),l.$emit("$viewContentLoaded"),l.$eval(f),t()})}else a.html(""),u()}var l,s=o.uiView||o.name,f=o.onload||"",h=-1;n.$on("$viewChanged",function(n,t){t===s&&c()}),n.$on("$stateChangeSuccess",c),c()}}}];angular.module("ui.routing").directive("uiView",w)})(window,document);