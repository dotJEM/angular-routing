<h1><code ng:non-bindable="">$state</code>
<div><span class="hint">service in module <code ng:non-bindable="">dotjem.routing</code>
</span>
</div>
</h1>
<div><h2 id="description">Description</h2>
<div class="description"><div class="dotjem-routing-state-page"><p>You can define states through <a href="#/api/dotjem.routing.$stateProvider">$stateProvider</a>&#39;s API.</p>
</div></div>
<h2 id="dependencies">Dependencies</h2>
<ul class="dependencies"><li><code ng:non-bindable=""><a href="#/api/ng.$rootScope">$rootScope</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$q">$q</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$injector">$injector</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$route">$route</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$view">$view</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$stateTransition">$stateTransition</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$location">$location</a></code>
</li>
<li><code ng:non-bindable=""><a href="#/api/ng.$scroll">$scroll</a></code>
</li>
</ul>
<div class="member method"><h2 id="methods">Methods</h2>
<ul class="methods"><li><h3 id="methods_goto">goto(state, params)</h3>
<div class="goto"><div class="dotjem-routing-state-goto-page"><p>To transition to another state, use <code>goto</code>...</p>
<ul>
<li>state: either the full name of a state or a state object (e.g. use <code>lookup</code> to get that object).</li>
<li>params: (optional) a set of parameters to use for the state.</li>
</ul>
<p>If the state has an associated route, that route will be activated and the location with change it the address bar of the browser. It is also important that all parameters are defined for such route, however if the previous state defines any of those, they won&#39;t need to be redefined.</p>
<p>e.g. say the following states are defined:</p>
<pre class="prettyprint linenums">
$stateProvider
  .state('home', { route: '/home/:homeParam' })
  .state('home.child', { route: '/child/:childParam' })
</pre>
<p>To activate the <code>home</code> state, a call to goto must include the <code>:homeParam</code> e.g:</p>
<pre class="prettyprint linenums">
$state.goto('home', { homeParam: 'goHome' } );
</pre>
<p>To activate the <code>home.child</code> state, a call to goto must include the <code>:homeParam</code> and the <code>:childParam</code> e.g:</p>
<pre class="prettyprint linenums">
$state.goto('home.child', { homeParam: 'goHome', childParam: 'goChild' } );
</pre>
<p>To activate the <code>home.child</code> state when currently in the <code>home</code> state, a call to goto must include the the <code>:childParam</code> and can optionally include the <code>:homeParam</code> e.g:</p>
<p></pre>
$state.goto(&#39;home.child&#39;, { childParam: &#39;goChild&#39; } );
$state.goto(&#39;home.child&#39;, { homeParam: &#39;goHome&#39;, childParam: &#39;goChild&#39; } );
</pre></p>
<p>We can leave out the home param as that is already defined in the current set of params, that also means we can goto home from child without specifying any params, but if we wish to change it we must specify it, the following example will demonstrate a full flow:</p>
<pre class="prettyprint linenums">
$state.goto('home', { homeParam: 1 } );
// - location set to: '/home/1'

$state.goto('home.child', { childParam: 1 } );
// - location set to: '/home/1/child/1'

$state.goto('home');
// - location set to: '/home/1'

$state.goto('home.child', { homeParam: 2, childParam: 2 } );
// - location set to: '/home/2/child/2'

$state.goto('home.child', { childParam: 4 } );
// - location set to: '/home/2/child/4'

$state.goto('home.child', { homeParam: 4 } );
// - location set to: '/home/4/child/4'
</pre>
</div><h5 id="methods_goto_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>state</td><td><a href="" class="label type-hint type-hint-state">State</a><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="dotjem-routing-state-goto-page"><p>Current state.</p>
</div></td></tr><tr><td>params</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-goto-page"><p>Current state.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_is">is(state, basePath)</h3>
<div class="is"><div class="dotjem-routing-state-is-page"><p>Checks if the current state matches the provided state.</p>
</div><h5 id="methods_is_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>state <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-state">State</a><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="dotjem-routing-state-is-page"><p>A State or name to check against the current state.</p>
</div></td></tr><tr><td>basePath <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="dotjem-routing-state-is-page"><p>If true (default) the basePath is used when generating the url, otherwas not.</p>
</div></td></tr></tbody></table><h5 id="methods_is_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="dotjem-routing-state-is-page"><p>true if the stats mathces, otherwise false.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_is">is(basePath)</h3>
<div class="is"><div class="dotjem-routing-state-is-page"><p>Checks if the current state matches the provided state.</p>
</div><h5 id="methods_is_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>basePath <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="dotjem-routing-state-is-page"><p>If true (default) the basePath is used when generating the url, otherwas not.</p>
</div></td></tr></tbody></table><h5 id="methods_is_returns">Returns</h5><table class="variables-matrix"><tr><td><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="dotjem-routing-state-is-page"><p>true if the stats mathces, otherwise false.</p>
</div></td></tr></table></div>
</li>
<li><h3 id="methods_lookup">lookup(path)</h3>
<div class="lookup"><div class="dotjem-routing-state-lookup-page"><p>To lookup a state, use <code>lookup</code>...
<br/>
<br/>
Path is inspired by XPath and supports a subset of that syntax.</p>
<ul>
<li><code>.</code> : current state</li>
<li><code>..</code> : parent state</li>
<li><code>/</code> : path separator</li>
<li><code>[]</code> : index selector, errors on overflow</li>
<li><code>$node()</code> : sibling selector, can overflow</li>
</ul>
<p><br/><br/>
Using these selectors, the following are examples of paths:</p>
<ul>
<li><code>state</code> : Selects <code>state</code> from the current node.</li>
<li><code>/state</code> : Selects <code>state</code> from the root.</li>
<li><code>./state</code> : Selects <code>state</code> from the current node.</li>
<li><code>./state/child</code> : Selects <code>child</code> under <code>state</code> from the current node.</li>
<li><code>../state</code> : Selects <code>state</code> under the parent of the current state.</li>
<li><code>[0]</code> : Selects the first child of the current state.</li>
<li><code>[-1]</code> : Selects the last child of the current state.</li>
<li><code>./state/[-1]</code> : Selects the last child under <code>state</code> under current state.</li>
<li><code>$node(1)</code> : Selects the next sibling of the current state.</li>
<li><code>$node(-1)</code> : Selects the previous sibling of the current state.</li>
</ul>
<p><br/><br/>
<strong>Note:</strong> When using <code>$node()</code>, it allows for overflow. this means if you are at the last child of a state and selects <code>$node(1)</code>, it will select the first child instead.
<br/><br/>
Finally it is also possible to select states by their full name, however as <code>state</code> would also be a valid relative selector, full name selection is only used when the name contains a <code>.</code>, this means that if you wish to select the states directly under root by name you will have to use either the syntax above or it&#39;s full name with root included:</p>
<ul>
<li><code>root.state</code>: Selects <code>state</code> under root.</li>
<li><code>/state</code> : Selects <code>state</code> under root.</li>
</ul>
<p><br/><br/>
Errors will be thrown in cases where the path isn&#39;t valid.
The root state it self can&#39;t be selected. (The root state is implicitly defined by the system, when defining <code>.state(&#39;home&#39;, {...});</code>, the state <code>home</code> isn&#39;t a root state, it is instead a child of root.</p>
</div><h5 id="methods_lookup_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>path</td><td><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="dotjem-routing-state-lookup-page"><p>Path expression to the state that can either be relative to the current state or from the root (/).</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_reinitialize">reinitialize()</h3>
<div class="reinitialize"><div class="dotjem-routing-state-reinitialize-page"><p>Clears all states and associated routes and reinitializes the state service.</p>
</div></div>
</li>
<li><h3 id="methods_reload">reload(state)</h3>
<div class="reload"><div class="dotjem-routing-state-reload-page"><p>To force reload a state, use <code>reload</code>...</p>
<ul>
<li>call <code>.reload()</code> to reload only the current leaf state.</li>
<li>call <code>.reload(true)</code> to reload all active states from the root state to the current leaf.</li>
<li>call <code>.reload(&#39;state.full.name&#39;)</code> to reload all states from <code>state.full.name</code> and down to the current leaf.
<br/><br/>
E.g. if the current state is <code>state.full.name.to.here</code> and <code>.reload()</code> is called then all views etc. will be reloaded for the leaf state <code>here</code>.
<br/><br/>
If <code>.reload(true)</code> called, views etc. will be reloaded for all the states <code>state</code>, <code>full</code>, <code>name</code>, <code>to</code>, <code>here</code>.
<br/><br/>
Finally if  <code>.reload(&#39;state.full.name&#39;)</code> is called, views etc. will be reloaded for the states <code>name</code>, <code>to</code>, <code>here</code>.</li>
</ul>
</div><h5 id="methods_reload_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>state <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-state">State</a><a href="" class="label type-hint type-hint-string">string</a><a href="" class="label type-hint type-hint-boolean">boolean</a></td><td><div class="dotjem-routing-state-reload-page"><p>Name or State in the current hierachy or true/false</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="methods_url">url(state, params, basePath)</h3>
<div class="url"><div class="dotjem-routing-state-url-page"><p>To build a url for a particular state, use <code>url</code>...
<br/><br/>
If the state defined either by state, or current state does not have an route associated with it, it will throw an error.</p>
</div><h5 id="methods_url_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>state <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-state">State</a><a href="" class="label type-hint type-hint-string">string</a></td><td><div class="dotjem-routing-state-url-page"><p>A state to generate an URL for</p>
</div></td></tr><tr><td>params <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-url-page"><p>A set of parameters to use when generating the url</p>
</div></td></tr><tr><td>basePath <div><em>(optional)</em></div></td><td><a href="" class="label type-hint type-hint-boolean">Boolean</a></td><td><div class="dotjem-routing-state-url-page"><p>If true (default) the basePath is used when generating the url, otherwas not.</p>
</div></td></tr></tbody></table></div>
</li>
</ul>
</div>
<div class="member property"><h2 id="properties">Properties</h2>
<ul class="properties"><li><h3 id="properties_current">current</h3>
<div class="current"><div class="dotjem-routing-state-page"><p>Reference to the current state loaded.</p>
</div></div>
</li>
</ul>
</div>
<div class="member event"><h2 id="events">Events</h2>
<ul class="events"><li><h3 id="events_$statechangeerror">$stateChangeError</h3>
<div class="$statechangeerror"><div class="dotjem-routing-state-statechangeerror-page"><p>Broadcasted if any of the resolve promises are rejected.</p>
</div><div class="inline"><h4 id="events_$statechangeerror_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_$statechangeerror_target">Target:</h4>
<div class="target">root scope</div>
</div>
<h5 id="events_$statechangeerror_target_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>angularEvent</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-statechangeerror-page"><p>Synthetic event object.</p>
</div></td></tr><tr><td>next</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangeerror-page"><p>Future state.</p>
</div></td></tr><tr><td>current</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangeerror-page"><p>Current state.</p>
</div></td></tr><tr><td>rejection</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-statechangeerror-page"><p>Rejection of the promise. Usually the error of the failed promise.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="events_$statechangestart">$stateChangeStart</h3>
<div class="$statechangestart"><div class="dotjem-routing-state-statechangestart-page"><p>Broadcasted before a route change. At this  point the route services starts
resolving all of the dependencies needed for the route change to occurs.</p>
</div><div class="inline"><h4 id="events_$statechangestart_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_$statechangestart_target">Target:</h4>
<div class="target">root scope</div>
</div>
<h5 id="events_$statechangestart_target_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>angularEvent</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-statechangestart-page"><p>Synthetic event object.</p>
</div></td></tr><tr><td>next</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangestart-page"><p>Future state.</p>
</div></td></tr><tr><td>current</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangestart-page"><p>Current state.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="events_$statechangesuccess">$stateChangeSuccess</h3>
<div class="$statechangesuccess"><div class="dotjem-routing-state-statechangesuccess-page"><p>Broadcasted after a route dependencies are resolved.</p>
</div><div class="inline"><h4 id="events_$statechangesuccess_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_$statechangesuccess_target">Target:</h4>
<div class="target">root scope</div>
</div>
<h5 id="events_$statechangesuccess_target_parameters">Parameters</h5><table class="variables-matrix table table-bordered table-striped"><thead><tr><th>Param</th><th>Type</th><th>Details</th></tr></thead><tbody><tr><td>angularEvent</td><td><a href="" class="label type-hint type-hint-object">Object</a></td><td><div class="dotjem-routing-state-statechangesuccess-page"><p>Synthetic event object.</p>
</div></td></tr><tr><td>next</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangesuccess-page"><p>Future state.</p>
</div></td></tr><tr><td>current</td><td><a href="" class="label type-hint type-hint-state">State</a></td><td><div class="dotjem-routing-state-statechangesuccess-page"><p>Current state.</p>
</div></td></tr></tbody></table></div>
</li>
<li><h3 id="events_$stateupdate">$stateUpdate</h3>
<div class="$stateupdate"><div class="inline"><h4 id="events_$stateupdate_type">Type:</h4>
<div class="type">broadcast</div>
</div>
<div class="inline"><h4 id="events_$stateupdate_target">Target:</h4>
<div class="target">root scope</div>
</div>
</div>
</li>
</ul>
</div>
</div>
